<div class="container">
    <div class="cp-dashboard">
        <div class="cp-dashboard-main">
            <h1 class="cp-dashboard-heading">Hello {{ customer.user.name | firstName }}, <span>how can we help you today?</span></h1>

            <form class="cp-form cp-dashboard-form" name="dashboardForm" novalidate role="form" ng-submit="submit()">
                <fieldset>
                    <div class="row">
                        <div class="col-xs-5">
                            <div class="cp-form-group">
                                <label class="cp-form-label" for="search_event_type">Event type</label>
                                <select class="cp-form-control" id="search_event_type" name="searchEventType" ng-model="search.eventType" ng-options="eventType.id as eventType.name for eventType in eventTypeOptions"></select>
                            </div>
                        </div>

                        <div class="col-xs-3">
                            <div class="cp-form-group">
                                <label class="cp-form-label" for="search_time">Time</label>
                                <select class="cp-form-control" id="search_time" name="searchTime" ng-init="search.time" ng-model="search.time" ng-options="time.value as time.label for time in timeOptions"></select>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-4">
                            <div class="cp-form-group">
                                <label class="cp-form-label" for="search_date">Delivery date</label>
                                <input class="cp-form-control" id="search_date" name="searchDate" type="text" datepicker-options="{showButtonBar: false, showWeeks: false, startingDay: 1}" datepicker-popup="dd/MM/yyyy" is-open="isDatePickerOpen" min-date="minDate" year-range="2" ng-click="openDatePicker($event)" ng-model="search.date" />
                            </div>
                        </div>

                        <div class="col-xs-4">
                            <div class="cp-form-group">
                                <label class="cp-form-label" for="search_head_count">How many people?</label>
                                <select class="cp-form-control" id="search_head_count" name="searchHeadCount" ng-model="search.headCount" ng-options="headCount for headCount in headCountOptions"></select>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-5" ng-if="addresses.length > 0">
                            <div class="cp-form-group">
                                <label class="cp-form-label" for="search_postcode">Delivery location</label>
                                <select class="cp-form-control" id="search_postcode" name="searchPostcode" ng-model="search.postcode" ng-options="address.postcode as address.label for address in addresses"></select>
                            </div>
                        </div>

                        <div class="col-xs-1" ng-if="addresses.length > 0">
                            <span class="cp-form-separator">or</span>
                        </div>

                        <div class="col-xs-4">
                            <div class="cp-form-group">
                                <label class="cp-form-label" for="search_new_postcode">
                                    New location
                                    <span class="form-element-invalid" ng-show="dashboardForm.$submitted && dashboardForm.searchNewPostcode.$error.pattern">Postcode is invalid</span>
                                </label>
                                <input class="cp-form-control" id="search_new_postcode" name="searchNewPostcode" type="text" placeholder="POSTCODE" ng-model="search.newPostcode" ng-pattern="/[a-zA-Z]{1,2}[0-9][0-9A-Za-z]?\s?[0-9][a-zA-Z]{2}/" />
                            </div>
                        </div>
                    </div>
                </fieldset>

                <div class="text-center">
                    <input class="cp-btn cp-btn-primary cp-btn-lg" type="submit" value="Show me the food" />
                </div>
            </form>
        </div>
        <div class="cp-dashboard-sidebar">
            <aside class="cp-dashboard-order" ng-if="nextOrder">
                <header>
                    <h2 class="cp-dashboard-order-heading">Next order</h2>
                    <span class="cp-dashboard-order-date">{{ nextOrder.requestedDeliveryDate | date:'dd MMM yy' }}</span>
                </header>

                <!-- @todo - cp-package-card -->

                <p class="cp-dashboard-order-description">{{ nextOrder.package.description }}</p>

                <section class="cp-dashboard-order-detail">
                    <h3 class="cp-dashboard-order-detail-heading">Your order</h3>
                    <dl>
                        <dt>Delivery time</dt>
                        <dd>{{ nextOrder.requestedDeliveryDate | date:'HH:mm' }}</dd>

                        <dt>How many people?</dt>
                        <dd>{{ nextOrder.headCount }}</dd>

                        <dt>Dietary requirements</dt>
                        <dd>{{ nextOrder.vegetarianHeadCount }}</dd>

                        <dt class="cp-dashboard-order-detail-total">Total</dt>
                        <dd class="cp-dashboard-order-detail-total">{{ nextOrder.totalAmountAfterVoucher | currency:'Â£' }}</dd>
                    </dl>
                    <a class="cp-dashboard-order-edit" href="@todo">Edit<span class="sr-only"> order</span></a>
                </section>

                <a class="cp-btn cp-btn-default cp-btn-lg cp-btn-block" href="@todo">View details</a>
            </aside>
        </div>
    </div>
</div>
