<div class="container">
    <form class="cp-form cp-search-form" novalidate role="form">
        <fieldset>
            <div class="row">
                <div class="cp-form-group col-md-3">
                    <label class="cp-form-label" for="delivery_date">Delivery date</label>
                    <input class="cp-form-control"
                        id="delivery_date"
                        type="text"
                        placeholder="DD/MM/YYYY"
                        ng-click="openDatePicker($event)"
                        ng-model="pickedDate"
                        datepicker-popup="dd/MM/yyyy"
                        datepicker-options="{showButtonBar: false, showWeeks: false, startingDay: 1}"
                        is-open="isDatePickerOpen"
                        min-date="minDate"
                        year-range="2" />
                </div>

                <div class="cp-form-group col-md-2">
                    <label class="cp-form-label" for="delivery_time">Time</label>
                    <select class="cp-form-control"
                        id="delivery_time"
                        ng-model="search.time"
                        ng-options="time.value as time.label for time in timeOptions">
                            <option value="">-</option>
                    </select>
                </div>

                <div class="cp-form-group col-md-2">
                    <label class="cp-form-label" for="head_count">No. of people?</label>
                    <select class="cp-form-control"
                        id="head_count"
                        ng-model="search.headCount"
                        ng-options="headCount for headCount in headCountOptions">
                            <option value="">-</option>
                    </select>
                </div>

                <div class="cp-form-group col-md-2">
                    <label class="cp-form-label" for="delivery_location">Delivery location</label>
                    <input class="cp-form-control"
                        id="delivery_location"
                        type="text"
                        placeholder="POSTCODE"
                        ng-model="search.postcode"
                        ng-model-options="{debounce: 1000}" />
                </div>

                <div class="cp-form-group col-md-3">
                    <label class="cp-form-label" for="budget_per_person">Budget per person</label>
                    <input class="cp-search-budget-per-person-input"
                        id="budget_per_person"
                        type="range"
                        min="1"
                        max="50"
                        step="1"
                        ng-model="search.maxBudget" />
                    <output class="cp-search-budget-per-person-output" for="budget_per_person">
                        {{ search.maxBudget | currency:'£':0 }}
                    </output>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <fieldset>
                        <legend class="cp-search-event-type-label" ng-show="eventTypes.length > 0">Event type:</legend>
                        <label class="cp-checkbox-inline" ng-repeat="eventType in eventTypes">
                            <input type="checkbox"
                                checklist-model="search.eventTypes"
                                checklist-value="eventType.id">
                            {{ eventType.name }}
                        </label>
                    </fieldset>
                </div>
            </div>
        </fieldset>

        <button class="cp-btn cp-btn-link cp-search-advanced-search" type="button" ng-click="isAdvancedSearchVisible = !isAdvancedSearchVisible">Advanced search</button>
    </form>

    <form class="cp-form cp-search-form cp-search-form-advanced" novalidate role="form" ng-show="isAdvancedSearchVisible">
        <fieldset>
            <div class="row">
                <div class="col-md-6">
                    <fieldset>
                        <legend class="cp-search-advanced-search-label" ng-show="cuisineTypes.length > 0">Cuisine</legend>
                        <div class="row">
                            <div class="cp-checkbox col-md-6 col-lg-4" ng-repeat="cuisineType in cuisineTypes">
                                <label>
                                    <input type="checkbox"
                                        checklist-model="search.cuisineTypes"
                                        checklist-value="cuisineType.id" />
                                    {{ cuisineType.name }}
                                </label>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <div class="col-md-6">
                    <fieldset>
                        <legend class="cp-search-advanced-search-label" ng-show="dietaryRequirements.length > 0">Diet specific</legend>
                        <div class="row">
                            <div class="cp-checkbox col-md-6 col-lg-4" ng-repeat="dietaryRequirement in dietaryRequirements">
                                <label>
                                    <input type="checkbox"
                                        checklist-model="search.dietaryRequirements"
                                        checklist-value="dietaryRequirement.id" />
                                    {{ dietaryRequirement.name }}
                                </label>
                            </div>
                        </div>
                    </fieldset>

                    <fieldset>
                        <legend class="cp-search-advanced-search-label cp-search-packaging-options-label" ng-show="packagingTypeOptions.length > 0">Packaging options</legend>
                        <label class="cp-radio-inline" ng-repeat="packagingType in packagingTypeOptions">
                            <input type="radio"
                                ng-model="search.packagingType"
                                ng-value="{{ packagingType.value }}" />
                            {{ packagingType.label }}
                        </label>
                    </fieldset>
                </div>
            </div>
        </fieldset>

        <button class="cp-btn cp-btn-link cp-search-advanced-search-close" type="button" ng-click="isAdvancedSearchVisible = false">Close</button>
    </form>

    <div class="row">
        <p class="cp-search-notice col-md-12" ng-show="isSearching">Seaching...</p>

        <div class="cp-search-notice col-md-12" ng-if="packages.length === 0">
            <p>We couldn’t find any results matching your criteria, but tweaking your search may help. Here are some ideas:</p>
            <ul>
                <li>Remove some filters.</li>
                <li>Push the delivery date forward.</li>
                <li>Try an alternative delivery location.</li>
            </ul>
        </div>

        <div class="col-sm-3 col-xs-6" ng-repeat="package in packages | limitTo:packagesLimit" ng-show="!isSearching" package="package" cp-package-card></div>
    </div>

    <div class="text-center">
        <button class="cp-btn cp-btn-primary cp-btn-lg cp-search-show-more" type="button" ng-click="showMore()" ng-if="packages.length > packagesLimit">Show more food</button>
    </div>
</div>
